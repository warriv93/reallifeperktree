{"ast":null,"code":"var _jsxFileName = \"/Users/madisontaskett/gitRepos/reallifeperktree/pages/auth/credentials.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Router from 'next/router';\nimport Link from 'next/link';\nimport { NextAuth } from 'next-auth/client';\nexport default class extends React.Component {\n  static async getInitialProps({\n    req\n  }) {\n    return {\n      session: await NextAuth.init({\n        req\n      }),\n      linkedAccounts: await NextAuth.linked({\n        req\n      }),\n      providers: await NextAuth.providers({\n        req\n      })\n    };\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: '',\n      session: this.props.session\n    };\n    this.handleEmailChange = this.handleEmailChange.bind(this);\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n    this.handleSignInSubmit = this.handleSignInSubmit.bind(this);\n  }\n\n  async componentDidMount() {\n    if (this.props.session.user) {\n      Router.push(`/auth/`);\n    }\n  }\n\n  handleEmailChange(event) {\n    this.setState({\n      email: event.target.value\n    });\n  }\n\n  handlePasswordChange(event) {\n    this.setState({\n      password: event.target.value\n    });\n  }\n\n  handleSignInSubmit(event) {\n    event.preventDefault(); // An object passed NextAuth.signin will be passed to your signin() function\n\n    NextAuth.signin({\n      email: this.state.email,\n      password: this.state.password\n    }).then(authenticated => {\n      Router.push(`/auth/callback`);\n    }).catch(() => {\n      alert(\"Authentication failed.\");\n    });\n  }\n\n  render() {\n    if (this.props.session.user) {\n      return null;\n    } else {\n      return __jsx(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, __jsx(\"h1\", {\n        className: \"display-5 mt-4 mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"NextAuth - Custom Sign In\")), __jsx(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"col-sm-12 col-md-10 col-lg-8 col-xl-7 mr-auto ml-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, __jsx(\"p\", {\n        className: \"mt-3 mb-4 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"If you want to support password based sign in, two factor authentication or another sign in method, define a signin() function in \", __jsx(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"next-auth.functions.js\"), \".\"), __jsx(\"div\", {\n        className: \"card mt-3 mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, __jsx(\"h4\", {\n        className: \"card-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Sign In\"), __jsx(\"div\", {\n        className: \"card-body pb-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, __jsx(\"form\", {\n        id: \"signin\",\n        method: \"post\",\n        action: \"/auth/signin\",\n        onSubmit: this.handleSignInSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, __jsx(\"input\", {\n        name: \"_csrf\",\n        type: \"hidden\",\n        value: this.state.session.csrfToken,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, __jsx(\"label\", {\n        htmlFor: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Email address\"), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), __jsx(\"input\", {\n        name: \"email\",\n        type: \"text\",\n        placeholder: \"j.smith@example.com\",\n        id: \"email\",\n        className: \"form-control\",\n        value: this.state.email,\n        onChange: this.handleEmailChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      })), __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, __jsx(\"label\", {\n        htmlFor: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Password\"), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), __jsx(\"input\", {\n        name: \"password\",\n        type: \"password\",\n        placeholder: \"\",\n        id: \"password\",\n        className: \"form-control\",\n        value: this.state.password,\n        onChange: this.handlePasswordChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      })), __jsx(\"p\", {\n        className: \"text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, __jsx(\"button\", {\n        id: \"submitButton\",\n        type: \"submit\",\n        className: \"btn btn-outline-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Sign in\"))))), __jsx(\"p\", {\n        className: \"text-italic text-muted text-center small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"For this to work, you will need enable the signin() function in \", __jsx(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"next-auth.functions.js\")))), __jsx(\"p\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, __jsx(Link, {\n        href: \"/auth\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"Back\"))));\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/madisontaskett/gitRepos/reallifeperktree/pages/auth/credentials.js"],"names":["React","Router","Link","NextAuth","Component","getInitialProps","req","session","init","linkedAccounts","linked","providers","constructor","props","state","email","password","handleEmailChange","bind","handlePasswordChange","handleSignInSubmit","componentDidMount","user","push","event","setState","target","value","preventDefault","signin","then","authenticated","catch","alert","render","csrfToken"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Router from 'next/router'\nimport Link from 'next/link'\nimport { NextAuth } from 'next-auth/client'\n\nexport default class extends React.Component {\n  \n  static async getInitialProps({req}) {\n    return {\n      session: await NextAuth.init({req}),\n      linkedAccounts: await NextAuth.linked({req}),\n      providers: await NextAuth.providers({req})\n    }\n  }\n  \n  constructor(props) {\n    super(props)\n    this.state = {\n      email: '',\n      password: '',\n      session: this.props.session\n    }\n    this.handleEmailChange = this.handleEmailChange.bind(this)\n    this.handlePasswordChange = this.handlePasswordChange.bind(this)\n    this.handleSignInSubmit = this.handleSignInSubmit.bind(this)\n  }\n\n  async componentDidMount() {\n    if (this.props.session.user) {\n      Router.push(`/auth/`)\n    }\n  }\n\n  handleEmailChange(event) {\n    this.setState({\n      email: event.target.value\n    })\n  }\n\n  handlePasswordChange(event) {\n    this.setState({\n      password: event.target.value\n    })\n  }\n  \n  handleSignInSubmit(event) {\n    event.preventDefault()\n\n    // An object passed NextAuth.signin will be passed to your signin() function\n    NextAuth.signin({\n      email: this.state.email,\n      password: this.state.password\n    })\n    .then(authenticated => {\n      Router.push(`/auth/callback`)\n    })\n    .catch(() => {\n      alert(\"Authentication failed.\")\n    })\n  }\n  \n  render() {\n    if (this.props.session.user) {\n      return null\n    } else {\n      return (\n        <div className=\"container\">\n          <div className=\"text-center\">\n            <h1 className=\"display-5 mt-4 mb-2\">NextAuth - Custom Sign In</h1>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-sm-12 col-md-10 col-lg-8 col-xl-7 mr-auto ml-auto\">\n              <p className=\"mt-3 mb-4 text-center\">\n                If you want to support password based sign in, two factor authentication \n                or another sign in method, define a signin() function\n                in <strong>next-auth.functions.js</strong>.\n              </p>\n              <div className=\"card mt-3 mb-3\">\n                <h4 className=\"card-header\">Sign In</h4>\n                <div className=\"card-body pb-0\">\n                  <form id=\"signin\" method=\"post\" action=\"/auth/signin\" onSubmit={this.handleSignInSubmit}>\n                    <input name=\"_csrf\" type=\"hidden\" value={this.state.session.csrfToken}/>\n                    <p>\n                      <label htmlFor=\"email\">Email address</label><br/>\n                      <input name=\"email\" type=\"text\" placeholder=\"j.smith@example.com\" id=\"email\" className=\"form-control\" value={this.state.email} onChange={this.handleEmailChange}/>\n                    </p>\n                    <p>\n                      <label htmlFor=\"password\">Password</label><br/>\n                      <input name=\"password\" type=\"password\" placeholder=\"\" id=\"password\" className=\"form-control\" value={this.state.password} onChange={this.handlePasswordChange}/>\n                    </p>\n                    <p className=\"text-right\">\n                      <button id=\"submitButton\" type=\"submit\" className=\"btn btn-outline-primary\">Sign in</button>\n                    </p>\n                  </form>\n                </div>\n              </div>\n              <p className=\"text-italic text-muted text-center small\">\n                For this to work, you will need enable the signin() function in <strong>next-auth.functions.js</strong>\n              </p>\n            </div>\n          </div>\n          <p className=\"text-center\">\n            <Link href=\"/auth\"><a>Back</a></Link>\n          </p>\n        </div>\n      )\n    }\n  }\n}"]},"metadata":{},"sourceType":"module"}