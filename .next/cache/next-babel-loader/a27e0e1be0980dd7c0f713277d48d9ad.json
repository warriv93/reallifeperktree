{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/madisontaskett/gitRepos/reallifeperktree/pages/index.jsx\";\nvar __jsx = React.createElement;\nimport Layout from '../components/Layout'; // const Index = () => (\n//   <Layout>\n//     <div>\n//       <p>Hello Next.js</p>\n//     </div>\n//   </Layout>\n// );\n// export default Index;\n\nimport React from 'react';\nimport Router from 'next/router';\nimport Link from 'next/link';\nimport { NextAuth } from 'next-auth/client';\n\nvar _default =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(_default, _React$Component);\n\n  _createClass(_default, null, [{\n    key: \"getInitialProps\",\n    value: function getInitialProps(_ref) {\n      var req;\n      return _regeneratorRuntime.async(function getInitialProps$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              req = _ref.req;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(NextAuth.init({\n                req: req\n              }));\n\n            case 3:\n              _context.t0 = _context.sent;\n              return _context.abrupt(\"return\", {\n                session: _context.t0\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    }\n  }]);\n\n  function _default(props) {\n    var _this;\n\n    _classCallCheck(this, _default);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(_default).call(this, props));\n    _this.handleSignOutSubmit = _this.handleSignOutSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(_default, [{\n    key: \"handleSignOutSubmit\",\n    value: function handleSignOutSubmit(event) {\n      event.preventDefault();\n      NextAuth.signout().then(function () {\n        Router.push('/auth/callback');\n      })[\"catch\"](function (err) {\n        Router.push('/auth/error?action=signout');\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, __jsx(\"h1\", {\n        className: \"display-4 mt-3 mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"NextAuth Example\"), __jsx(\"p\", {\n        className: \"lead mt-3 mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"An example of how to use the \", __jsx(\"a\", {\n        href: \"https://www.npmjs.com/package/next-auth\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"NextAuth\"), \" module.\"), __jsx(SignInMessage, _extends({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return _default;\n}(React.Component);\n\nexport { _default as default };\nexport var SignInMessage =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(SignInMessage, _React$Component2);\n\n  function SignInMessage() {\n    _classCallCheck(this, SignInMessage);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SignInMessage).apply(this, arguments));\n  }\n\n  _createClass(SignInMessage, [{\n    key: \"render\",\n    value: function render() {\n      if (this.props.session.user) {\n        return __jsx(React.Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, __jsx(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, __jsx(Link, {\n          href: \"/auth\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, __jsx(\"a\", {\n          className: \"btn btn-secondary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, \"Manage Account\"))), __jsx(\"form\", {\n          id: \"signout\",\n          method: \"post\",\n          action: \"/auth/signout\",\n          onSubmit: this.handleSignOutSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, __jsx(\"input\", {\n          name: \"_csrf\",\n          type: \"hidden\",\n          value: this.props.session.csrfToken,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }), __jsx(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-outline-secondary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, \"Sign out\")));\n      } else {\n        return __jsx(React.Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, __jsx(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, __jsx(Link, {\n          href: \"/auth\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, __jsx(\"a\", {\n          className: \"btn btn-primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, \"Sign in\"))));\n      }\n    }\n  }]);\n\n  return SignInMessage;\n}(React.Component);","map":{"version":3,"sources":["/Users/madisontaskett/gitRepos/reallifeperktree/pages/index.jsx"],"names":["Layout","React","Router","Link","NextAuth","req","init","session","props","handleSignOutSubmit","bind","event","preventDefault","signout","then","push","err","Component","SignInMessage","user","csrfToken"],"mappings":"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","sourcesContent":["import Layout from '../components/Layout';\n\n// const Index = () => (\n//   <Layout>\n//     <div>\n//       <p>Hello Next.js</p>\n//     </div>\n//   </Layout>\n// );\n\n// export default Index;\n\n\nimport React from 'react'\nimport Router from 'next/router'\nimport Link from 'next/link'\nimport { NextAuth } from 'next-auth/client'\n\nexport default class extends React.Component {\n  static async getInitialProps({req}) {\n    return {\n      session: await NextAuth.init({req})\n    }\n  }\n\n  constructor(props) {\n    super(props)\n    this.handleSignOutSubmit = this.handleSignOutSubmit.bind(this)\n  }\n\n  handleSignOutSubmit(event) {\n    event.preventDefault()\n    NextAuth.signout()\n    .then(() => {\n      Router.push('/auth/callback')\n    })\n    .catch(err => {\n      Router.push('/auth/error?action=signout')\n    })\n  }\n  \n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"text-center\">\n          <h1 className=\"display-4 mt-3 mb-3\">NextAuth Example</h1>\n          <p className=\"lead mt-3 mb-3\">An example of how to use the <a href=\"https://www.npmjs.com/package/next-auth\">NextAuth</a> module.</p>\n          <SignInMessage {...this.props}/>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport class SignInMessage extends React.Component {\n  render() {\n    if (this.props.session.user) {\n      return (\n        <React.Fragment>\n          <p><Link href=\"/auth\"><a className=\"btn btn-secondary\">Manage Account</a></Link></p>\n          <form id=\"signout\" method=\"post\" action=\"/auth/signout\" onSubmit={this.handleSignOutSubmit}>\n            <input name=\"_csrf\" type=\"hidden\" value={this.props.session.csrfToken}/>\n            <button type=\"submit\" className=\"btn btn-outline-secondary\">Sign out</button>\n          </form>\n        </React.Fragment>\n      )\n    } else {\n      return (\n        <React.Fragment>\n          <p><Link href=\"/auth\"><a className=\"btn btn-primary\">Sign in</a></Link></p>\n        </React.Fragment>\n      )\n    }\n  }\n}"]},"metadata":{},"sourceType":"module"}